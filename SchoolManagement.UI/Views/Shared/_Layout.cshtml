<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - SchoolManagementSystem</title>
    <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.10.0/css/bootstrap-datepicker.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="~/css/navbar.css" asp-append-version="true" />

    @* New CSS *@
    <link href="https://fonts.googleapis.com/css?family=Montserrat:100,200,300,400,500,600,700,800,900"
          rel="stylesheet">
    <link href=@Url.Content("~/vendor/bootstrap/css/bootstrap.min.css") rel="stylesheet">

    @* <link rel="stylesheet" href=@Url.Content("~/assets/css/fontawesome.css")> *@
    <link rel="stylesheet" href=@Url.Content("~/assets/css/templatemo-grad-school.css")>
    <link rel="stylesheet" href=@Url.Content("~/assets/css/owl.css")>
    <link rel="stylesheet" href=@Url.Content("~/assets/css/lightbox.css")>

</head>
<body style="width:100%" class="d-flex flex-column min-vh-100">
    <header>
        <nav class="navbar navbar-expand-sm fixed-top navbar-toggleable-sm box-shadow p-3" style="background-color: rgba(22,34,57,0.95); height:90px;">
            <partial name="_NabBarPartial" />
        </nav>
    </header>

    <div class="container-fluid">
        <main role="main" class="pb-3">
            @RenderBody()
        </main>
    </div>
    @if (ViewData["IsHomePage"] != null && (bool)ViewData["IsHomePage"])
    {
        <partial name="_HomePagePartial" />

        <!-- Contact Section -->
        @* <div class="container my-5 " id="contactBlock"> *@
            <section class="section why-us" data-section="section2" id="contactBlock">
            <partial name="_ContactFormPartial" />
            </section>
        @* </div> *@
    }

    <footer class="text-dark pt-5 pb-4 mt-auto">
        <partial name="_FooterPartial" />
    </footer>
    <!-- Load jQuery first -->
    <script src="~/lib/jquery/dist/jquery.min.js"></script>

    <!-- Then Bootstrap's JavaScript -->
    <script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Then Bootstrap Datepicker -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.10.0/js/bootstrap-datepicker.min.js"></script>

    <!-- Then your custom script(s) -->
    <script src="~/js/date-picker.js" asp-append-version="true"></script>

    <!-- Site scripts last -->
    <script src="~/js/site.js" asp-append-version="true"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.all.min.js"></script>
    <!-- Flatpickr CSS (put this in <head> or before your script) -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">

    <!-- Flatpickr JS (put this before your date-picker.js script) -->
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jquery-validation@1.19.5/dist/jquery.validate.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jquery-validation-unobtrusive@3.2.12/dist/jquery.validate.unobtrusive.min.js"></script>

    @await RenderSectionAsync("Scripts", required: false)

    @* New Js *@
    <script src=@Url.Content("~/vendor/jquery/jquery.min.js")></script>
    @* <script src=@Url.Content("~/vendor/bootstrap/js/bootstrap.bundle.min.js")></script> *@

    <script src=@Url.Content("~/assets/js/isotope.min.js")></script>
    <script src=@Url.Content("~/assets/js/owl-carousel.js")></script>
    <script src=@Url.Content("~/assets/js/lightbox.js")></script>
    <script src=@Url.Content("~/assets/js/tabs.js")></script>
    <script src=@Url.Content("~/assets/js/video.js")></script>
    <script src=@Url.Content("~/assets/js/slick-slider.js")></script>
    <script src=@Url.Content("~/assets/js/custom.js")></script>
    <script>
        //according to loftblog tut
        $('.nav li:first').addClass('active');

        var showSection = function showSection(section, isAnimate) {
          var
          direction = section.replace(/#/, ''),
          reqSection = $('.section').filter('[data-section="' + direction + '"]'),
          reqSectionPos = reqSection.offset().top - 0;

          if (isAnimate) {
            $('body, html').animate({
              scrollTop: reqSectionPos },
            800);
          } else {
            $('body, html').scrollTop(reqSectionPos);
          }

        };

        var checkSection = function checkSection() {
          $('.section').each(function () {
            var
            $this = $(this),
            topEdge = $this.offset().top - 80,
            bottomEdge = topEdge + $this.height(),
            wScroll = $(window).scrollTop();
            if (topEdge < wScroll && bottomEdge > wScroll) {
              var
              currentId = $this.data('section'),
              reqLink = $('a').filter('[href*=\\#' + currentId + ']');
              reqLink.closest('li').addClass('active').
              siblings().removeClass('active');
            }
          });
        };

        $('.main-menu, .scroll-to-section').on('click', 'a', function (e) {
          if($(e.target).hasClass('external')) {
            return;
          }
          e.preventDefault();
          $('#menu').removeClass('active');
          showSection($(this).attr('href'), true);
        });

        $(window).scroll(function () {
          checkSection();
        });
    </script>
</body>
</html>
