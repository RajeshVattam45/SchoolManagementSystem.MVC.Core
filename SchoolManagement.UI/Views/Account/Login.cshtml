@model SchoolManagement.Core.Entites.Models.LoginViewModel

@{
    ViewData["Title"] = "Login";
}

<!-- Fullscreen Background with Overlay -->
<div class="min-vh-100 d-flex align-items-center justify-content-center"
     style="background: url('/images/hero_1.jpg') no-repeat center center / cover;">

    <!-- Semi-transparent overlay -->
    <div class="container py-5 px-3" style="background-color: rgba(0,0,0,0.5); border-radius: 20px;">
        <div class="row align-items-center text-white">

            <!-- LEFT SIDE: Text + Button -->
            <div class="col-lg-6 mb-5 mb-lg-0 text-center text-lg-start">
                <h1 class="display-5 fw-bold">Learn From The Expert</h1>
                <p class="lead mt-3">Join our platform to enhance your skills with industry professionals.</p>
                <p class="mb-4">Achieve your learning goals through structured guidance and expert feedback.</p>
                <a href="/Contact" class="btn btn-outline-light btn-lg rounded-pill px-4">
                    Contact Us
                </a>
            </div>

            <!-- RIGHT SIDE: Login Card -->
            <div class="col-lg-6">
                <div class="bg-white bg-opacity-75 backdrop-blur p-5 rounded-4 shadow-lg animate__animated animate__fadeIn"
                     style="max-width: 420px; margin: auto;">

                    <!-- Login Title -->
                    <h2 class="text-center fw-bold text-primary mb-4 border-bottom pb-2">🔐 Welcome Back!</h2>

                    <!-- Validation Summary -->
                    @if (!ViewData.ModelState.IsValid && ViewData.ModelState[""] != null)
                    {
                        <div class="alert alert-danger text-center fw-semibold">
                            @ViewData.ModelState[""].Errors.FirstOrDefault()?.ErrorMessage
                        </div>
                    }

                    <!-- Login Form -->
                    @* <form asp-action="Login" method="post" onsubmit="showSpinner(this)"> *@
                    <form asp-action="Login" method="post" onsubmit="showSpinner(this)" class="border p-4 rounded-4 bg-white bg-opacity-75 shadow">
                        <!-- Email -->
                        <div class="form-floating mb-3 position-relative">
                            <input asp-for="Email" class="form-control rounded-3 ps-5" placeholder="Email" autocomplete="off" />
                            <label for="Email"><i class="fas fa-envelope me-2 text-primary"></i>Email address</label>
                            <span asp-validation-for="Email" class="text-danger small position-absolute top-100 start-0 mt-1"></span>
                        </div>

                        <!-- Password -->
                        <div class="form-floating mb-3 position-relative">
                            <input asp-for="Password" type="password" class="form-control rounded-3 ps-5" placeholder="Password" autocomplete="new-password" />
                            <label for="Password"><i class="fas fa-lock me-2 text-primary"></i>Password</label>
                            <span asp-validation-for="Password" class="text-danger small position-absolute top-100 start-0 mt-1"></span>
                        </div>

                        <!-- Login Button -->
                        <div class="d-grid mb-3">
                            <button type="submit" id="loginBtn" class="btn btn-primary btn-lg fw-bold rounded-pill shadow-sm position-relative">
                                <span class="spinner-border spinner-border-sm me-2 d-none" role="status" id="loginSpinner"></span>
                                <i class="fas fa-sign-in-alt me-2"></i> Login
                            </button>
                        </div>
                    </form>

                    <!-- Register Link -->
                    <div class="text-center mt-2">
                        <small class="text-muted">
                            Don't have an account?
                            <a href="/Register" class="fw-bold text-decoration-none text-primary">Reach Out</a>
                        </small>
                    </div>
                </div>
            </div>

        </div>
    </div>
</div>

<!-- Spinner Script -->
<script>
    function showSpinner(form) {
        const btn = document.getElementById('loginBtn');
        const spinner = document.getElementById('loginSpinner');
        spinner.classList.remove('d-none');
        btn.setAttribute('disabled', 'true');
    }
</script>

<!-- Styles -->
<style>
    .backdrop-blur {
        backdrop-filter: blur(12px);
        -webkit-backdrop-filter: blur(12px);
    }

    .form-floating > .form-control:focus ~ label {
        opacity: .8;
    }
</style>

<!-- Icons and Animations -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/js/all.min.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
